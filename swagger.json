{
  "openapi": "3.0.0",
  "info": {
    "title": "MABO APIs",
    "version": "1.0.0",
    "description": "API documentation for the MABO Restaurant Management System"
  },
  "servers": [
    {
      "url": "http://127.0.0.1:9000",
      "description": "Local server"
    }
  ],
  "paths": {
    "/superAdminSignIn": {
      "post": {
        "summary": "Super admin sign in",
        "tags": [
          "SuperAdmin"
        ],
         "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  },
                  "device_id": {
                    "type": "string"
                  },
                  "device_type": {
                    "type": "string"
                  },
                  "device_token": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful login"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/create_admin": {
      "post": {
        "summary": "Create a new admin",
        "tags": [
          "SuperAdmin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "business_image": {
                    "type": "string",
                    "format": "binary"
                  },
                  "first_name": {
                    "type": "string"
                  },
                  "last_name": {
                    "type": "string"
                  },
                  "username": {
                    "type": "string"
                  },
                  "phone_no": {
                    "type": "string"
                  },
                  "iso_code": {
                    "type": "string"
                  },
                  "country_code": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  },
                  "business_name": {
                    "type": "string"
                  },
                  "business_email": {
                    "type": "string"
                  },
                  "business_phone_no": {
                    "type": "string"
                  },
                  "business_iso_code": {
                    "type": "string"
                  },
                  "business_country_code": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Admin created"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/edit_admin": {
      "put": {
        "summary": "Edit an admin",
        "tags": [
          "SuperAdmin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "business_image": {
                    "type": "string",
                    "format": "binary"
                  },
                  "first_name": {
                    "type": "string"
                  },
                  "last_name": {
                    "type": "string"
                  },
                  "username": {
                    "type": "string"
                  },
                  "phone_no": {
                    "type": "string"
                  },
                  "iso_code": {
                    "type": "string"
                  },
                  "country_code": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  },
                  "business_name": {
                    "type": "string"
                  },
                  "business_email": {
                    "type": "string"
                  },
                  "business_phone_no": {
                    "type": "string"
                  },
                  "business_iso_code": {
                    "type": "string"
                  },
                  "business_country_code": {
                    "type": "string"
                  },
                  "admin_id": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Admin edited"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/getBussinessAdminList": {
      "get": {
        "summary": "Get business admin list",
        "tags": [
          "SuperAdmin"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "Page number"
          }
        ],
        "responses": {
          "200": {
            "description": "Business admin list"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/getStaffList": {
      "get": {
        "summary": "Get staff list",
        "tags": [
          "SuperAdmin"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "Page number"
          },
          {
            "in": "query",
            "name": "business_id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "Business ID"
          },
          {
            "in": "query",
            "name": "role",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Role (waiter, barista, supervisor)"
          }
        ],
        "responses": {
          "200": {
            "description": "Staff list"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/getBussinessList": {
      "get": {
        "summary": "Get business list",
        "tags": [
          "SuperAdmin"
        ],
        "responses": {
          "200": {
            "description": "Business list"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/getBussinessTableList": {
      "get": {
        "summary": "Get business table list",
        "tags": [
          "SuperAdmin"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "Page number"
          },
          {
            "in": "query",
            "name": "business_id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "Business ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Business table list"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/getBussinessCategoryList": {
      "get": {
        "summary": "Get business category list",
        "tags": [
          "SuperAdmin"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "Page number"
          },
          {
            "in": "query",
            "name": "business_id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "Business ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Business category list"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/getBussinessItemList": {
      "get": {
        "summary": "Get business item list",
        "tags": [
          "SuperAdmin"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "Page number"
          },
          {
            "in": "query",
            "name": "category_id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "Category ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Business item list"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/signin": {
      "post": {
        "summary": "Admin sign in",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emailOrUsername": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  },
                  "device_id": {
                    "type": "string"
                  },
                  "device_type": {
                    "type": "string"
                  },
                  "device_token": {
                    "type": "string"
                  },
                  "role": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful login"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/otp_verify": {
      "post": {
        "summary": "Verify OTP for admin",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emailOrUsername": {
                    "type": "string"
                  },
                  "otp": {
                    "type": "string"
                  },
                  "role": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP verified"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/forgetPassword": {
      "post": {
        "summary": "Admin forget password",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emailOrUsername": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset link sent"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/StaffForgetPassword": {
      "put": {
        "summary": "Staff forget password",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password changed"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/resetPassword": {
      "post": {
        "summary": "Admin reset password",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emailOrUsername": {
                    "type": "string"
                  },
                  "newPassword": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset successful"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/changePassword": {
      "put": {
        "summary": "Admin change password",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "oldPassword": {
                    "type": "string"
                  },
                  "newPassword": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password changed"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/signOut": {
      "post": {
        "summary": "Admin sign out",
        "tags": [
          "Admin"
        ],
        "responses": {
          "200": {
            "description": "Sign out successful"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/businessHours": {
      "post": {
        "summary": "Set business hours",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "day": {
                    "type": "string"
                  },
                  "opening_hours": {
                    "type": "string"
                  },
                  "closing_hours": {
                    "type": "string"
                  },
                  "day_status": {
                    "type": "boolean"
                  },
                  "value": {
                    "type": "string",
                    "enum": [
                      "is_all",
                      "is_create",
                      "is_edit",
                      "is_get"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Business hours set"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/addCategory": {
      "post": {
        "summary": "Add a new category",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "category_name": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Category added"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/deleteCategory": {
      "delete": {
        "summary": "Delete a category",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "category_id": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Category deleted"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/addItem": {
      "post": {
        "summary": "Add a new item",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "item_image": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Item added"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/editItem": {
      "put": {
        "summary": "Edit an item",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "item_image": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Item edited"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/deleteItemImage": {
      "delete": {
        "summary": "Delete an item image",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "imageId": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Item image deleted"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/deleteIngredient": {
      "delete": {
        "summary": "Delete an ingredient",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "ingredientId": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Ingredient deleted"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/deleteItem": {
      "delete": {
        "summary": "Delete an item",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "itemId": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Item deleted"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/getCategoryList": {
      "get": {
        "summary": "Get category list",
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Page number"
          }
        ],
        "responses": {
          "200": {
            "description": "Category list"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/getItemList": {
      "get": {
        "summary": "Get item list",
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "category_id",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Category ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Page number"
          }
        ],
        "responses": {
          "200": {
            "description": "Item list"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/getItemDetails": {
      "get": {
        "summary": "Get item details",
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "itemId",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Item ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Item details"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/BaristaOrderList": {
      "get": {
        "summary": "Get barista order list",
        "tags": [
          "Barista"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "list_for",
            "schema": {
              "type": "string",
              "enum": [
                "current_order",
                "completed_order"
              ]
            },
            "required": true,
            "description": "List type"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Page number"
          }
        ],
        "responses": {
          "200": {
            "description": "Barista order list"
          },
          "422": {
            "description": "Validation error"
          }
        }
      }
    },
    "/BaristaOrderAccept": {
      "put": {
        "summary": "Accept a barista order",
        "tags": [
          "Barista"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "order_id": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Order accepted"
          },
          "422": {
            "description": "Validation error"
          }
        }
      }
    },
    "/BaristaOrderMarkAsComplete": {
      "put": {
        "summary": "Mark a barista order as complete",
        "tags": [
          "Barista"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "order_id": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Order marked as complete"
          },
          "422": {
            "description": "Validation error"
          }
        }
      }
    },
    "/userSignUp": {
      "post": {
        "summary": "User sign up",
        "tags": [
          "User"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  },
                  "device_id": {
                    "type": "string"
                  },
                  "device_type": {
                    "type": "string"
                  },
                  "device_token": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User signed up"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/personalInformation": {
      "post": {
        "summary": "Add personal information",
        "tags": [
          "User"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "first_name": {
                    "type": "string"
                  },
                  "last_name": {
                    "type": "string"
                  },
                  "country_code": {
                    "type": "string"
                  },
                  "iso_code": {
                    "type": "string"
                  },
                  "phone_no": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Personal information added"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/confirmOrder": {
      "post": {
        "summary": "Confirm an order",
        "tags": [
          "User"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "business_id": {
                    "type": "string"
                  },
                  "total_price": {
                    "type": "number"
                  },
                  "sub_total": {
                    "type": "number"
                  },
                  "discount": {
                    "type": "number"
                  },
                  "taxes": {
                    "type": "number"
                  },
                  "extra_charges": {
                    "type": "number"
                  },
                  "table_id": {
                    "type": "string"
                  },
                  "special_guest": {
                    "type": "boolean"
                  },
                  "orders": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "item_id": {
                          "type": "string"
                        },
                        "item_image": {
                          "type": "string"
                        },
                        "quantity": {
                          "type": "number"
                        },
                        "note": {
                          "type": "string"
                        },
                        "price": {
                          "type": "number"
                        },
                        "item_name": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Order confirmed"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/delete_account": {
      "delete": {
        "summary": "Delete user account",
        "tags": [
          "User"
        ],
        "responses": {
          "200": {
            "description": "Account deleted"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/getUserOrderList": {
      "get": {
        "summary": "Get user order list",
        "tags": [
          "User"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "order_status",
            "schema": {
              "type": "string",
              "enum": [
                "in_progress",
                "complete"
              ]
            },
            "required": true,
            "description": "Order status"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Page number"
          }
        ],
        "responses": {
          "200": {
            "description": "User order list"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/applyPromoCode": {
      "get": {
        "summary": "Apply promo code",
        "tags": [
          "User"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "code",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Promo code"
          },
          {
            "in": "query",
            "name": "business_id",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Business ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Promo code applied"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/expensesList": {
      "get": {
        "summary": "Get user expenses list",
        "tags": [
          "User"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Page number"
          }
        ],
        "responses": {
          "200": {
            "description": "Expenses list"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/waiterOrderList": {
      "get": {
        "summary": "Get waiter order list",
        "tags": [
          "Waiter"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Page number"
          }
        ],
        "responses": {
          "200": {
            "description": "Waiter order list"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/waiterOrderDetails": {
      "get": {
        "summary": "Get waiter order details",
        "tags": [
          "Waiter"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "order_id",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Order ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Waiter order details"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/waiterOrderAccept": {
      "put": {
        "summary": "Accept waiter order",
        "tags": [
          "Waiter"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "order_id": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Order accepted"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/waiterOrderComplete": {
      "put": {
        "summary": "Complete waiter order",
        "tags": [
          "Waiter"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "order_id": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Order completed"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/waiterAssignedTableList": {
      "get": {
        "summary": "Get waiter assigned table list",
        "tags": [
          "Waiter"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Page number"
          }
        ],
        "responses": {
          "200": {
            "description": "Waiter assigned table list"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    }
  },
"components": {
  "securitySchemes": {
    "bearerAuth": {
      "type": "http",
      "scheme": "bearer",
      "bearerFormat": "JWT"
    }
  }
},
"security": [
  {
    "bearerAuth": []
  }
]
}